var kernelAssociateTimeout=null,kernelSyncTimeout=null,kernelLoginFormElementId=null;
(function(){function u(a){var b=Array.prototype.slice.call(a);"create"==b.shift()?(v.apply(null,b),v=B):n.push(a)}function C(){window.kernel=function(){w(arguments)};for(var a=0,b=n.length;a<b;a++)w(n.shift());p("kernelReady")}function w(a){a=Array.prototype.slice.call(a);var b=a.shift();"visit"==b?D.apply(null,a):"serve"==b?E.apply(null,a):"addClickthroughListeners"==b?""==h("previewAdId")&&F.apply(null,a):"associate"==b?"[object Array]"==Object.prototype.toString.call(a[0])?x.apply(null,a):x.apply(null,
[[{loginFormId:a[0],usernameField:a[1]}]]):"testFunction"==b&&G.apply(null,a)}function H(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(a){var b=16*Math.random()|0;return("x"==a?b:b&3|8).toString(16)})}function y(a){return function(b){function d(a){return"a"==a.tagName.toLowerCase()?a:d(a.parentElement)}function g(a){a=a.parentElement;if(null!=a)return a.hasAttribute("data-campaign-id")?a:g(a)}b=b||window.event;var c=d(b.target||b.srcElement);"_blank"!=c.target.toLowerCase()&&
(clickedUrl=c.href,b.preventDefault());c=g(c);b=c.getAttribute("data-campaign-id");c=c.getAttribute("data-ad-id");b="https://kernel-serve.banno.com/institutions/"+l+"/profiles/"+q+"/clickthrough?campaignId\x3d"+b+"\x26adId\x3d"+c+"\x26callback\x3d"+a;c=document.getElementsByTagName("head")[0];var f=document.createElement("script");f.setAttribute("src",b);c.appendChild(f);kernelClickthroughTimeout=window.setTimeout(function(){null!=clickedUrl&&(window.location.href=clickedUrl);clickedUrl=null},2E3)}}
function m(){return null==l?(window.console&&console.error("Please send the 'institutionId' (in the 'create' operation) before invoking kernel operations."),!1):!0}function r(a){return"https://kernel-serve.banno.com/"+("institutions/"+l+"/profiles/"+q+"/"+a)}function z(a){var b=document.getElementsByTagName("head")[0],d=document.createElement("script");d.type="text/javascript";d.src=a;d.async=1;b.appendChild(d)}function h(a){return decodeURIComponent(((new RegExp("[?|\x26]"+a+"\x3d([^\x26;]+?)(\x26|#|;|$)")).exec(location.search)||
[,""])[1].replace(/\+/g,"%20"))||""}function B(){}function p(a){if("undefined"!=typeof document.createEvent){var b=document.createEvent("Event");b.initEvent(a,!0,!0);window.dispatchEvent(b)}else if("undefined"!=typeof document.createEventObject)try{b=document.createEventObject(),window.fireEvent("on"+a.toLowerCase(),b)}catch(d){}}var l=null,q=null,t="auto",n=[],v=function(a,b){null==a?window.console&&console.error("Please provide the institutionId in the 'create' operation."):l=a;null!=b&&(t=b);var d=
("; "+document.cookie).split("; __bkp\x3d");d=2==d.length?d.pop().split(";").shift():"";0==d.length&&(d=H());var g=d;var c=new Date;var f=c.getTime();c.setTime(f+63072E6);c=c.toGMTString();if("auto"==t){f=window.location.hostname;var e=f.split("."),h=e.length;f=2<h?"."+e[h-2]+"."+e[h-1]:"."+f}else f=t;document.cookie="__bkp\x3d"+g+"; expires\x3d"+c+"; domain\x3d"+f+"; path\x3d/; SameSite\x3dLax; Secure";q=d};window.kernelTestValue="Initial test value";var G=function(a){m()&&(window.kernelTestValue=
a)},D=function(a){if(m()){a=a||{};if(a&&null!==a.useMetaKeywords&&"boolean"==typeof a.useMetaKeywords?a.useMetaKeywords:1){var b=a.keywordsMetaName||"keywords";var d=[],g=document.getElementsByTagName("meta");if(g)for(var c=0,f=g.length;c<f;c++)g[c].name.toLowerCase()==b.toLowerCase()&&d.push(g[c].content);b=d}else b=[];a="?keywords\x3d"+b.concat(a.keywords||[]).join(",");if("true"==h("preview")||0!=h("previewAdId").length)a+="\x26preview\x3dtrue";z(r("visit"+a))}},E=function(){if(m()){var a=arguments;
var b=h("previewAdId");var d=h("w")||h("width"),g=h("h")||h("height"),c=h("style");b=0==b.length?null:{adId:b,width:d,height:g,style:c};c="";d=0;for(g=a.length;d<g;d++){var f=a[d];var e=f.id||"";var I=f.tags||[];var k=f.w||f.width||"";var l=f.h||f.height||"";f=f.style||"";e=0==e.length||null==document.getElementById(e)?null:{elementId:e,width:k,height:l,style:f,tags:I};null!=e&&(null!=b?(k=0!=e.style.length&&e.style==b.style,k=0!=e.width.length&&0!=e.height.length&&e.width==b.width&&e.height==b.height||
k?e.elementId+":"+b.adId:""):k="",0==k.length?(e=0==e.style.length?e.elementId+":"+e.width+"x"+e.height+":"+e.tags.join("-"):e.elementId+":"+e.style+":"+e.tags.join("-"),c+=e+","):c+=k+",")}a=c.slice(0,-1);b=null!=b||"true"==h("preview");a="?placements\x3d"+a;b&&(a+="\x26preview\x3dtrue");z(r("serve.js"+a))}},x=function(a){a.forEach(function(a,d){if(m()){var b=a.usernameField,c=document.getElementById(a.loginFormId);null!=c&&null!=c[a.usernameField]&&(c.addEventListener?c.addEventListener("submit",
A(c,b),!0):c.attachEvent("onsubmit",A(c,b)))}})},A=function(a,b){return function(d){d=encodeURIComponent(a[b].value.trim());for(var g=!0,c=a.getElementsByTagName("input"),f=0;f<c.length;f++){var e=c.item(f);"password"==e.type&&(g=encodeURIComponent(e.value.trim()))}d&&g&&(g=new XMLHttpRequest,g.open("GET",r("associate?username\x3d"+d)),g.timeout=2E3,g.send())}},F=function(a){var b=function(a){return function(){window.clearTimeout(kernelClickthroughTimeout);null!=clickedUrl&&(window.location.href=
a)}},d=0;a.forEach(function(a){a=document.getElementById(a);for(var c=a.getElementsByTagName("a"),f=0;f<c.length;f++){var e=c[f];d++;var g="kernelClickthroughCallback"+d.toString();window[g]=b(e.href);a.addEventListener?e.addEventListener("click",y(g),!1):e.attachEvent("onclick",y(g))}});p("addClickthroughListenersDone")};(function(){var a=window.kernel.q;window.kernel=function(){u(arguments)};for(var b=0,d=a.length;b<d;b++)u(a.shift());p("kernelPreStart");C()})()})();